<style>
    .visnav {
        margin-right:4px;
        padding-left:8px;
        padding-right:8px;
        min-width:20px;
        background-color:rgba(6,153,250,0.1);
        line-height:28px;
        float:left;
        text-align:center;
    }

    .appbox {
        width:25%;
        text-align:center;
        padding:10px;
        vertical-align:top;
    }

    .appbox-title {
        color: #aaa;
        font-weight:bold;
        font-size:16px;
        padding-bottom:15px;
    }

    .appbox-value {
        color: #0699fa;
        font-weight:bold;
        font-size:32px;
    }

    .appbox-units {
        color: #0779c1;
        font-weight:bold;
        font-size:16px;
        padding-top:5px
    }
    input{
        width:290px;
    }
    select{
        width:290px;
    }
    table{
        width: 100%;
        border:0;
    }
    .visnavblock{
        height:28px;
        padding-bottom:5px;
    }
    #myelectric_placeholder_bound_power{
         width:100%;
         height:250px;
    }
    #myelectric_placeholder_bound_kwhd{
        width:100%;
        height:280px;
    }
    #myelectric_config{
        margin: 0px auto;
        max-width:320px;
        display:none;
    }
</style>

<div class="container">

    <div id="myelectric_config">
        <div class="electric-title i18n">My Electric config</div>
        <br><br>

        <p><b class="i18n">Power feed (Watts):</b></p>
        <select id="myelectric_powerfeed"></select>
        <br>
        <p><b class="i18n">Bar graph feed</b></p>
        <select id="myelectric_dailyfeed"></select>

        <p><b class="i18n">Wh or kWh feed?</b><br>Note: Use power_to_kwh input processor to create this feed type</p>
        <select id="myelectric_dailytype">
            <option class="i18n" value=0>Watt hours elapsed</option>
            <option class="i18n" value=1>kWh elapsed</option>
        </select>

        <p><b class="i18n">Set currency, enter text: pound, euro, dollar, yen: </b></p>
        <input type="text" id="myelectric_currency" />
        <br>
        <p><b class="i18n">Unit cost'>:</b></p>
        <input type="text" id="myelectric_unitcost" />
        <br><br>
        <button id="myelectric_configsave" class="btn btn-primary">Save</button>
    </div>

    <div id="myelectric_body">
        <div style="height:20px; border-bottom:1px solid #333; padding:8px;">
            <div style="float:left; color:#aaa">
                <span class="myelectric-view-cost i18n" >Cost</span> |
                <span class="myelectric-view-kwh i18n" >kWh</span>
            </div>

            <div style="float:right;">
                <i id="myelectric_openconfig" class="icon-wrench icon-white" style="cursor:pointer"></i>
            </div>
        </div>

        <table>
            <tr>
                <td style="border:0; width:33%">
                    <div class="electric-title i18n">POWER NOW</div>
                    <div class="power-value"><span id="myelectric_powernow">0</span></div>
                </td>
                <td style="text-align:center; border:0; width:33%"></td>
                <td style="text-align:right; border:0; width:33%">
                    <div class="electric-title i18n">USE TODAY</div>
                    <div class="power-value">
                        <span id="myelectric_usetoday_units_a" style = "display:none1" class="i18n1"></span>
                        <span id="myelectric_usetoday">0</span>
                        <span id="myelectric_usetoday_units_b" style="font-size:16px"> kWh</span>
                    </div>
                </td>
            </tr>
        </table>

        <br>

        <div class="visnavblock">
            <span class='visnav myelectric-time i18n' time='3' >3h</span>
            <span class='visnav myelectric-time i18n' time='6' >6h</span>
            <span class='visnav myelectric-time i18n' time='24' >D</span>
            <span class='visnav myelectric-time i18n' time='168' >W</span>
            <span class='visnav myelectric-time i18n' time='720' >M</span>
            <span class='visnav i18n' id='myelectric_zoomin' >+</span>
            <span class='visnav i18n' id='myelectric_zoomout' >-</span>
            <span class='visnav i18n' id='myelectric_left' ><</span>
            <span class='visnav i18n' id='myelectric_right' >></span>
        </div>
        <br>

        <div id="myelectric_placeholder_bound_power">
            <canvas id="myelectric_placeholder_power"></canvas>
        </div>
        <br>

        <div id="myelectric_placeholder_bound_kwhd">
            <canvas id="myelectric_placeholder_kwhd"></canvas>
        </div>
        <br>

        <table>
            <tr>
                <td class="appbox">
                    <div class="appbox-title  i18n">WEEK</div>
                    <div>
                        <span class="appbox-value u1a i18n">$</span><span class="appbox-value" id="myelectric_week_kwh">---</span> <span class="units appbox-units u1b i18n" >kWh</span>
                    </div>
                    <div class="appbox-units" >
                        <span class="units u2a"></span><span id="myelectric_week_kwhd">---</span><span class="units u2b"> kWh/d</span>
                    </div>
                </td>

                <td class="appbox">
                    <div class="appbox-title  i18n">MONTH</div>
                    <div>
                        <span class="appbox-value u1a i18n">$</span><span class="appbox-value" id="myelectric_month_kwh">---</span> <span class="units appbox-units u1b i18n" >kWh</span>
                    </div>
                    <div class="appbox-units" >
                        <span class="units u2a"></span><span id="myelectric_month_kwhd">---</span><span class="units u2b i18n"> kWh/d</span>
                    </div>
                </td>

                <td class="appbox">
                    <div class="appbox-title i18n">YEAR</div>
                    <div>
                        <span class="appbox-value u1a i18n">$</span><span class="appbox-value" id="myelectric_year_kwh">---</span> <span class="units appbox-units u1b i18n" >kWh</span>
                    </div>
                    <div class="appbox-units" >
                        <span class="units u2a"></span><span id="myelectric_year_kwhd">---</span><span class="units u2b i18n"> kWh/d</span>
                    </div>
                </td>

                <td class="appbox">
                    <div class="appbox-title i18n">ALL</div>
                    <div>
                        <span class="appbox-value u1a i18n">$</span><span class="appbox-value" id="myelectric_alltime_kwh">---</span> <span class="units appbox-units u1b i18n" >kWh</span>
                    </div>
                    <div class="appbox-units" >
                        <span class="units u2a"></span><span id="myelectric_alltime_kwhd i18n">---</span><span class="units u2 i18nb"> kWh/d</span>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>
<script>
(function() {
    var i18ntext = {
        ref:{
            "3h": "3h",
            "6h": "6h",
            " kWh/d": " kWh/d",
            "&gt;": "&gt;",
            "&lt;": "&lt;",
            "+": "+",
            "-": "-",
            "ALL": "ALL",
            "Bar graph feed": "Bar graph feed",
            "Cost": "Cost",
            "D": "D",
            "M": "M",
            "MONTH": "MONTH",
            "My Electric config": "My Electric config",
            "POWER NOW": "POWER NOW",
            "Power feed (Watts):": "Power feed (Watts):",
            "Set currency, enter text: pound, euro, dollar, yen:" : "Set currency, enter text: pound, euro, dollar, yen: ",
            "USE TODAY": "USE TODAY",
            "Unit cost'&gt;:": "Unit cost'&gt;:",
            "W": "W",
            "WEEK": "WEEK",
            "Watt hours elapsed": "Watt hours elapsed",
            "Wh or kWh feed?": "Wh or kWh feed?",
            "YEAR": "YEAR",
            "kWh": "kWh",
            "kWh elaped": "kWh elapsed",
            "test": "test",
            "$": "£"
        },
        en:{
            "3h": "3h",
            "6h": "6h",
            " kWh/d": " kWh/d",
            "&gt;": "&gt;",
            "&lt;": "&lt;",
            "+": "+",
            "-": "-",
            "ALL": "ALL",
            "Bar graph feed": "Bar graph feed",
            "Cost": "Cost",
            "D": "D",
            "M": "M",
            "MONTH": "MONTH",
            "My Electric config": "My Electric config",
            "POWER NOW": "POWER NOW",
            "Power feed (Watts):": "Power feed (Watts):",
            "Set currency, enter text: pound, euro, dollar, yen:" : "Set currency, enter text: pound, euro, dollar, yen: ",
            "USE TODAY": "USE TODAY",
            "Unit cost'&gt;:": "Unit cost'&gt;:",
            "W": "W",
            "WEEK": "WEEK",
            "Watt hours elapsed": "Watt hours elapsed",
            "Wh or kWh feed?": "Wh or kWh feed?",
            "YEAR": "YEAR",
            "kWh": "kWh",
            "kWh elaped": "kWh elapsed",
            "test": "test",
            "$": "£"
        },
        fr:{
            "3h": "3h",
            "6h": "6h",
            " kWh/d": " kWh/j",
            "&gt;": "&gt;",
            "&lt;": "&lt;",
            "+": "+",
            "-": "-",
            "ALL": "Tout",
            "Bar graph feed": "Histogramme",
            "Cost": "Coût",
            "D": "J",
            "M": "M",
            "MONTH": "Mois",
            "My Electric config": "Mon élctricieté configuration",
            "POWER NOW": "Puissance instantannée",
            "Power feed (Watts):": "Puissance (Watts):",
            "Set currency, enter text: pound, euro, dollar, yen: ": "Sélectionner la monnaie , Euro, Dollar, Livre, Yen,...: ",
            "USE TODAY": "Usage aujourd'hui",
            "Unit cost'&gt;:": "Coût unitaire:",
            "W": "S",
            "WEEK": "Semaine",
            "Watt hours elapsed": "Watt heure",
            "Wh or kWh feed?": "Wh or kWh flux?",
            "YEAR": "Année",
            "kWh": "kWh",
            "kWh elaped": "kWh elapsed",
            "test": "test",
            "$": "€"
        }
    }   // your page initialization code here
   var lang = 'fr';
   var result= {
    "ref":{
        "test":"test"
       }
    };
   // the DOM will be available here
   var flds = document.getElementsByClassName("i18n");

   for(var i=0; i<flds.length;i++){
        var key = flds[i].innerHTML;
        result['ref'][key]=key
         flds[i].innerHTML= i18ntext[lang][key]
   }
   console.log(result);

})();

</script>
